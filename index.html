<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#4CAF50">
    <meta name="description" content="PRANSAKHI - Your Voice-Based Offline Healthcare Assistant">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <title>PRANSAKHI - Healthcare Assistant</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- App Container -->
    <div id="app">
        
        <!-- Splash Screen -->
        <div id="splash-screen" class="screen active">
            <div class="splash-content">
                <div class="logo-container">
                    <svg class="logo" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="45" fill="#4CAF50"/>
                        <path d="M50 25 L50 75 M35 40 L50 25 L65 40" stroke="white" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="50" cy="70" r="8" fill="white"/>
                    </svg>
                </div>
                <h1 class="app-title">PRANSAKHI</h1>
                <p class="app-subtitle">Your Healthcare Companion</p>
                <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>

        <!-- Home Screen -->
        <div id="home-screen" class="screen">
            <header class="app-header">
                <h2>PRANSAKHI</h2>
                <span class="offline-badge">
                    <span class="status-dot"></span>
                    Works Offline
                </span>
            </header>

            <div class="main-content">
                <div class="greeting">
                    <h3>How can I help you today?</h3>
                    <p>Tap the mic and tell me your symptoms</p>
                </div>

                <!-- Main Mic Button -->
                <div class="mic-container">
                    <button id="main-mic-btn" class="mic-button" aria-label="Start voice input">
                        <svg class="mic-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                        </svg>
                    </button>
                    <p class="mic-label">Tap to speak</p>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button class="action-card" data-screen="symptoms">
                        <div class="action-icon">ü©∫</div>
                        <h4>Check Symptoms</h4>
                        <p>Get health advice</p>
                    </button>

                    <button class="action-card" data-screen="medicine">
                        <div class="action-icon">üíä</div>
                        <h4>Medicine Reminder</h4>
                        <p>Never miss a dose</p>
                    </button>

                    <button class="action-card emergency-card" data-screen="emergency">
                        <div class="action-icon">üö®</div>
                        <h4>Emergency Help</h4>
                        <p>Quick assistance</p>
                    </button>
                </div>
            </div>

            <nav class="bottom-nav">
                <button class="nav-item active" data-screen="home">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-label">Home</span>
                </button>
                <button class="nav-item" data-screen="medicine">
                    <span class="nav-icon">üíä</span>
                    <span class="nav-label">Reminders</span>
                </button>
                <button class="nav-item" data-screen="history">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-label">History</span>
                </button>
            </nav>
        </div>

        <!-- Listening Screen -->
        <div id="listening-screen" class="screen">
            <header class="app-header">
                <button class="back-btn" data-back="true">
                    <span>‚Üê</span>
                </button>
                <h2>Listening...</h2>
            </header>

            <div class="main-content centered">
                <div class="listening-animation">
                    <div class="wave-container">
                        <div class="wave"></div>
                        <div class="wave"></div>
                        <div class="wave"></div>
                    </div>
                    <svg class="listening-mic" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                        <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                    </svg>
                </div>

                <p class="listening-text">I'm listening to your symptoms...</p>
                
                <div class="transcript-box">
                    <p id="transcript-text">Speak now or type below...</p>
                </div>

                <div class="input-fallback">
                    <input 
                        type="text" 
                        id="symptom-input" 
                        placeholder="Or type your symptoms here..."
                        autocomplete="off"
                    />
                    <button id="submit-symptoms" class="primary-btn">Analyze</button>
                </div>

                <button id="stop-listening" class="secondary-btn">Stop</button>
            </div>
        </div>

        <!-- Result/Advice Screen -->
        <div id="result-screen" class="screen">
            <header class="app-header">
                <button class="back-btn" data-back="true">
                    <span>‚Üê</span>
                </button>
                <h2>Health Advice</h2>
            </header>

            <div class="main-content">
                <div id="result-content" class="result-container">
                    <!-- Content will be injected by JS -->
                </div>

                <div class="action-buttons">
                    <button id="read-advice" class="primary-btn">
                        <span class="btn-icon">üîä</span>
                        Read Aloud
                    </button>
                    <button class="secondary-btn" data-screen="home">
                        Back to Home
                    </button>
                </div>
            </div>
        </div>

        <!-- Medicine Reminder Screen -->
        <div id="medicine-screen" class="screen">
            <header class="app-header">
                <button class="back-btn" data-back="true">
                    <span>‚Üê</span>
                </button>
                <h2>Medicine Reminders</h2>
            </header>

            <div class="main-content">
                <div class="reminder-form">
                    <h3>Add New Reminder</h3>
                    
                    <div class="form-group">
                        <label for="medicine-name">Medicine Name</label>
                        <input 
                            type="text" 
                            id="medicine-name" 
                            placeholder="e.g., Paracetamol"
                            autocomplete="off"
                        />
                    </div>

                    <div class="form-group">
                        <label for="medicine-time">Time</label>
                        <input type="time" id="medicine-time" />
                    </div>

                    <div class="form-group">
                        <label for="medicine-dosage">Dosage</label>
                        <input 
                            type="text" 
                            id="medicine-dosage" 
                            placeholder="e.g., 1 tablet"
                            autocomplete="off"
                        />
                    </div>

                    <button id="add-reminder" class="primary-btn">Add Reminder</button>
                </div>

                <div class="reminders-list">
                    <h3>Your Reminders</h3>
                    <div id="reminders-container">
                        <!-- Reminders will be injected here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Emergency Screen -->
        <div id="emergency-screen" class="screen">
            <header class="app-header emergency-header">
                <button class="back-btn" data-back="true">
                    <span>‚Üê</span>
                </button>
                <h2>Emergency Help</h2>
            </header>

            <div class="main-content centered">
                <div class="emergency-container">
                    <div class="emergency-icon">üö®</div>
                    <h3>Need Immediate Help?</h3>
                    <p>Choose an option below</p>

                    <div class="emergency-actions">
                        <button id="call-ambulance" class="emergency-btn">
                            <span class="btn-icon">üöë</span>
                            <div>
                                <strong>Call Ambulance</strong>
                                <small>Emergency: 108</small>
                            </div>
                        </button>

                        <button id="notify-family" class="emergency-btn">
                            <span class="btn-icon">üë®‚Äçüë©‚Äçüëß</span>
                            <div>
                                <strong>Notify Family</strong>
                                <small>Send alert to contacts</small>
                            </div>
                        </button>

                        <button id="emergency-instructions" class="emergency-btn">
                            <span class="btn-icon">üìñ</span>
                            <div>
                                <strong>First Aid Guide</strong>
                                <small>Emergency instructions</small>
                            </div>
                        </button>
                    </div>

                    <div class="emergency-tips">
                        <h4>While you wait:</h4>
                        <ul>
                            <li>Stay calm and breathe deeply</li>
                            <li>If possible, lie down in a safe place</li>
                            <li>Keep phone nearby</li>
                            <li>Don't eat or drink anything</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Screen -->
        <div id="history-screen" class="screen">
            <header class="app-header">
                <button class="back-btn" data-back="true">
                    <span>‚Üê</span>
                </button>
                <h2>Consultation History</h2>
            </header>

            <div class="main-content">
                <div id="history-container" class="history-list">
                    <!-- History items will be injected here -->
                </div>
            </div>
        </div>

        <!-- Notification Toast -->
        <div id="notification-toast" class="notification-toast">
            <div class="toast-content">
                <span class="toast-icon">‚úì</span>
                <span class="toast-message"></span>
            </div>
        </div>

    </div>

    <script src="symptom-data.js"></script>
    <script src="script.js"></script>
</body>
</html>
